---
title: 个人博客配置美化记录
date: 2023-07-06 23:54:32
tags:
---

# 参考链接

https://butterfly.js.org/posts/4aa8abbe/

# 无题

## \_config文件修改

### 修改默认语言

```
    # Site
    language: zh-CN
```
默认语言是 en

主题支持三种语言：

- default(en)

- zh-CN (简体中文)

- zh-TW (繁体中文)

### 修改网站资料

修改网站的各种资料，如标题副标题等个人资料，请修改博客根目录的\_config.yml

```yml
# Site
title: "Lxw0628's Blog"
subtitle: "Hi"
description: ""
keywords: blog
author: Lxw0628
language: zh-CN
timezone: "Asia/Shanghai"
```

## \_config_butterfly.yml文件修改

\_config_butterfly.yml 为主题配置文件。

### 导航栏设置(Navigation bar settings)

#### 参数设置

主题配置文件中：

```yml
nav:
    logo: #image
    display_title: true
    fixed: false # fixed navigation bar
```

|      参数      |                  描述                  |
|:---------------|:---------------------------------------|
|      logo      | 网站的logo，支持图片，直接填入图片链接 |
| display\_title | 是否显示网站标题，填写 true 或者 false |
|     fixed      |  是否固定状态栏，填写 true 或者 false  |

#### 菜单/目录

```yml
Home: / || fas fa-home
Archives: /archives/ || fas fa-archive
Tags: /tags/ || fas fa-tags
Categories: /categories/ || fas fa-folder-open
# List||fas fa-list:
#     Music: /music/ || fas fa-music
#     Movie: /movies/ || fas fa-video
# Link: /link/ || fas fa-link
# About: /about/ || fas fa-heart
```

必须是 /xxx/，后面||分开，然后写图标名。

如果不希望显示图标，图标名可不写。

默认子目录是展开的，如果你想要隐藏，在子目录里添加hide。

```yml
List||fas fa-list||hide:
    Music: /music/ || fas fa-music
    Movie: /movies/ || fas fa-video

```

**注意：** 导航的文字可自行更改。

```yml
menu:
  首页: / || fas fa-home
  时间轴: /archives/ || fas fa-archive
  标签: /tags/ || fas fa-tags
  分类: /categories/ || fas fa-folder-open
  # List||fas fa-list:
  #   Music: /music/ || fas fa-music
  #   Movie: /movies/ || fas fa-video
  # Link: /link/ || fas fa-link
  # About: /about/ || fas fa-heart
```

### 代码(Code Blocks)

**tips:**

> 代码块中的所有功能只适用于Hexo自带的代码渲染

> 如果使用第三方的渲染器，不一定会有效

#### 代码高亮

Butterfly 支持6种代码高亮样式：

- darker

- pale night

- light

- ocean

- mac

- mac light	

```yml
highlight_theme: light
```

#### 代码复制

```yml
highlight_copy: true
```

#### 代码框展开/关闭

在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击>可展开代码

- true 全部代码框不展开，需点击>打开

- false 代码框展开，有>点击按钮

- none 不显示>按钮

```yml
highlight_shrink: true #代码框不展开，需点击 '>' 打开
```

#### 代码换行

在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。

```yml
code_word_wrap: true
```

#### 代码高度限制

可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。

```yml
highlight_height_limit: false # unit: px
```

**注意：**

1. 单位是`px`，直接加数字

2. 实际限制高度为 highlight_height_limit + 30 px ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。

3. 不适用于隐藏后的代码块（ css 设置 display: none）

### 社交图标 (Social Settings)

Butterfly支持[font-awesome v6](https://fontawesome.com/icons?from=io)图标。

书写格式 图标名：url || 描述性文字 || color

```yml
social:
  fab fa-github: https://github.com/Lxw0628 || Github || "#hdhfbb"
  # fas fa-envelope: mailto:xxxxxx@gmail.com || Email || "#000000"
```

### 头像

```yml
avatar:
  img: https://s2.loli.net/2023/07/03/ZuJLCDjc84UGVd3.jpg
  effect: true # 头像会一直转圈
```
### 顶部图

> 如果不要顶部图，直接配置`disable_top_img: true`

> 顶部图的获取顺序，如果都没有配置，则不显示顶部图。
> 1. 页面顶部图的获取顺序： 各自配置的 top_img > 配置文件的 default_top_img
> 2. 文章页顶部图的获取顺序： 各自配置的 top_img > cover > 配置文件的 default_top_img

配置中的值：

| 配置               | 解释                                                                    |
|:------------------ |:----------------------------------------------------------------------- |
| index\_img         | 主页的top\_img                                                          |
| default\_top\_img  | 默认的 top\_img，当页面的 top\_img 没有配置时，会显示 default\_top\_img |
| archive\_img       | 归档页面的 top\_img                                                     |
| tag\_img           | tag 子页面的默认 top\_img                                               |
| tag\_per\_img      | tag 子页面的 top\_img，可配置每个 tag 的 top\_img                       |
| category\_img      | category 子页面的默认 top\_img                                          |
| category\_per\_img | category 子页面的 top\_img，可配置每个 category 的 top\_img             |

其它页面（tags/categories/自建页面）和文章页的 top\_img ，请到对应的 md 页面设置front-matter中的top\_img

| 配置的值                                                                                                                                       | 效果                                                                                          |
|:---------------------------------------------------------------------------------------------------------------------------------------------- |:--------------------------------------------------------------------------------------------- |
| 留空                                                                                                                                           | 显示默认的 top\_img（如有），否则显示默认的顔色 （文章页top\_img留空的话，会显示 cover 的值） |
| img链接                                                                                                                                        | 图片的链接，显示所配置的图片                                                                  |
| 顔色( <br> HEX值 - #0000FF<br> RGB值 - rgb(0,0,255)<br> 顔色单词 - orange<br> 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%) ） | 对应的顔色                                                                                    |
| transparent                                                                                                                                    | 透明                                                                                          |
| false                                                                                                                                          | 不显示 top\_img                                                                               |

并不推荐为每个 tag 和每个 category 都配置不同的顶部图，因为配置太多会拖慢生成速度

### 文章封面

文章的 markdown 文档上,在 Front-matter 添加 cover ,并填上要显示的图片地址。

如果不配置 cover,可以设置显示默认的 cover。

如果不想在首页显示 cover, 可以设置为 false。

> 文章封面的获取顺序 `Front-matter 的 cover` \> `配置文件的 default_cover `\> `false`

```yml
cover:
  # 是否显示文章封面
  index_enable: true # 主页是否显示文章封面图
  aside_enable: true # 侧栏是否显示文章封面图
  archives_enable: true # 归档页面是否显示文章封面图
  # 封面显示的位置
  # 三个值可配置 left , right , both
  position: both
  # 当没有设置cover时，默认的封面显示
  default_cover:  #可配置图片链接/颜色/渐变色
```

当配置多张图片时，会随机选择一张作为cover。此时的写法应为：

```yml
default_cover:
  - image1.png
  - image2.png
  - image3.png
```

### 页面 meta 显示

这个选项是用来显示文章的相关信息的。

```yml
post_meta:
  page:
    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示
    date_format: relative # date/relative 显示日期还是相对日期
    categories: true # true or false 主页是否显示分类
    tags: true # true or false 主页是否显示标签
    label: true # true or false 显示描述性文字
  post:
    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示
    date_format: relative # date/relative 显示日期还是相对日期
    categories: true # true or false 文章页是否显示分类
    tags: true # true or false 文章页是否显示标签
    label: true # true or false 显示描述性文字
```

### 主页文章节选(自动节选和文章页description)

在butterfly里，有四种可供选择

1. description： 只显示description

2. both： 优先选择description，如果没有配置description，则显示自动节选的内容

3. auto\_excerpt：只显示自动节选

4. false： 不显示文章内容

```yml
index_post_content:
  method: 3
  length: 500 # if you set method to 2 or 3, the length need to config
```

description在front-matter里添加

### 页面锚点

开启页面锚点后，当你在进行滚动时，页面链接会根据标题ID进行替换

(注意: 每替换一次，会留下一个历史记录。所以如果一篇文章有很多锚点的话，网页的历史记录会很多。)

```yml
# anchor
# when you scroll in post , the url will update according to header id.
anchor:
  button:
    enable: true
    always_show: false
    icon: /3423 # the unicode value of Font Awesome icon, such as '\3423'
  auto_update: false # when you scroll in post, the URL will update according to header id.
```

### 图片描述

可开启图片Figcaption描述文字显示

优先显示图片的 title 属性，然后是 alt 属性

```yml
photofigcaption: true
```

### 复制相关配置

可配置网站是否可以复制、复制的内容是否添加版权信息

```yml
# copy settings
# copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)
copy:
  enable: true      # 是否开启网站复制权限
  copyright:        # 复制的内容后面加上版权信息
    enable: true    # 是否开启复制版权信息添加
    limit_count: 50 # 字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息
```

### 文章页相关配置

#### 文章版权

为你的博客文章展示文章版权和许可协议。

```yml
post_copyright:
  enable: true
  decode: false # 设置decode: true来显示中文网址。
  author_href:
  license: CC BY-NC-SA 4.0
  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/
```

如果有文章（例如：转载文章）不需要显示版权，可以在文章Front-matter单独设置

```yml
copyright: false
```

对单独文章设置版权信息，可以在文章Front-matter单独设置

```yml
copyright_author: xxxx
copyright_author_href: https://xxxxxx.com
copyright_url: https://xxxxxx.com
copyright_info: 此文章版权归xxxxx所有，如有转载，请注明来自原作者
```

#### 文章打赏

在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。

对于没有提供二维码的，可配置一张软件的icon图片，然后在link上添加相应的打赏链接。用户点击图片就会跳转到链接去。

link可以不写，会默认为图片的链接。

```yml
reward:
  enable: false
  QR_code:
    # - img: /img/wechat.jpg
    #   link:
    #   text: 微信
    # - img: /img/alipay.jpg
    #   link:
    #   text: 支付宝
```

#### TOC

在文章页，会有一个目录，用于显示TOC

```yml
toc:
  post: true           # 文章页是否显示TOC
  page: true           # 普通页面是否显示TOC
  number: true         # 是否显示章节数
  expand: false        # 是否展开TOC
  style_simple: false  # for post # 简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）
  scroll_percent: true # 是否显示滚动进度百分比
```

##### 为特定的文章配置

在你的文章md文件的头部，加入toc\_number和toc，并配置true或者false即可。

主题会优先判断文章Markdown的Front-matter是否有配置，如有，则以Front-matter的配置为准。否则，以主题配置文件中的配置为准

#### 相关文章

相关文章推荐的原理是根据文章tags的比重来推荐

```yml
related_post:
  enable: true
  limit: 6 # 显示推荐文章数目
  date_type: created # or created or updated 文章日期显示创建日或者更新日
```

#### 文章过期提醒

可设置是否显示文章过期提醒，以更新时间为基准。

```yml
# Displays outdated notice for a post (文章过期提醒)
noticeOutdate:
  enable: true
  style: flat # style: simple/flat
  limit_day: 365 # 距离更新时间多少天才显示文章过期提醒
  position: top # position: top/bottom
  message_prev: It has been # 天数之前的文字
  message_next: days since the last update, the content of the article may be outdated. # 天数之后的文字
```

#### 文章编辑按钮

在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。

```yml
# Post edit
# Easily browse and edit blog source code online.
post_edit:
  enable: false
  # url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/
  # For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/
  url:
```

#### 文章分页按钮

可设置分页的逻辑，也可以关闭分页显示

```yml
# post_pagination (分页)
# value: 1 || 2 || false 
# 1: 下一篇显示旧文章
# 2: 下一篇显示新文章
# false: 关闭分页按钮
post_pagination: false 
```

### Footer设置

#### 博客年份

since是一个来展示你站点起始时间的选项。它位于页面的最底部。

```yml
footer:
  owner:
    enable: true
    since: 2018
```

#### 页脚自定义文本

custom_text是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等。支持 HTML。

```yml
custom_text: Hi, welcome to my <a href="https://butterfly.js.org/">blog</a>!
```

对于部分人需要写 ICP 的，也可以写在 custom_text里

```yml
custom_text: <a href="icp链接"><img class="icp-icon" src="icp图片"><span>备案号：xxxxxx</span></a>
```

### 侧边栏设置(aside)

#### 侧边排版

可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。

```yml
aside:
  enable: true
  hide: false
  button: true
  mobile: true # display on mobile
  position: right # left or right
  display:
    archive: true
    tag: true
    category: true
  card_author:
    enable: true
    description:
    button:
      enable: true
      icon: fab fa-github
      text: 来我主页看看～
      link: https://github.com/xxxxxx
  card_announcement: # 公告
    enable: false
    content: This is my Blog
  card_recent_post:
    enable: true
    limit: 5 # if set 0 will show all
    sort: date # date or updated
    sort_order: # Don't modify the setting unless you know how it works
  card_categories:
    enable: true
    limit: 8 # if set 0 will show all
    expand: none # none/true/false
    sort_order: # Don't modify the setting unless you know how it works
  card_tags:
    enable: true
    limit: 40 # if set 0 will show all
    color: false
    orderby: random # Order of tags, random/name/length
    order: 1 # Sort of order. 1, asc for ascending; -1, desc for descending
    sort_order: # Don't modify the setting unless you know how it works
  card_archives:
    enable: true
    type: monthly # yearly or monthly
    format: MMMM YYYY # eg: YYYY年MM月
    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending
    limit: 8 # if set 0 will show all
    sort_order: # Don't modify the setting unless you know how it works
  card_webinfo:
    enable: true
    post_count: true
    last_push_date: true
    sort_order: # Don't modify the setting unless you know how it works
```

#### 访问人数 busuanzi(UV 和 PV)

访问 busuanzi 的[官方网站](busuanzi.ibruce.info)查看更多的介绍。

```yml
busuanzi:
  site_uv: true
  site_pv: true
  page_pv: true
```

#### 运行时间

网页已运行时间

```yml
runtimeshow:
  enable: true
  publish_date: 7/3/2023 19:42:00  
  ##网页开通时间
  #格式: 月/日/年 时间
  #也可以写成 年/月/日 时间
```

#### 最新评论

无

#### 自定义添加栏目

https://butterfly.js.org/posts/ea33ab97/

### 右下角按钮

#### 简繁转换

简体繁体转换

```yml
translate:
  enable: true
  # 默认按钮显示文字(网站是简体，应设置为'default: 繁')
  default: 繁
  #网站默认语言，1: 繁体中文, 2: 简体中文
  defaultEncoding: 2
  #延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0
  translateDelay: 0
  #当文字是简体时，按钮显示的文字
  msgToTraditionalChinese: "繁"
  #当文字是繁体时，按钮显示的文字
  msgToSimplifiedChinese: "简"
```

#### 阅读模式

閲读模式下会去掉除文章外的内容，避免干扰閲读。

只会出现在文章页面，右下角会有閲读模式按钮。

```yml
readmode: true
```

#### 夜间模式

右下角会有夜间模式按钮

```yml
# dark mode
darkmode:
  enable: true
  # 是否在右下角显示日夜模式切换按钮
  button: true
  # values: 1 || 2 || false
  # 1: 跟随系统变化 不支持的浏览器/系统将按照时间 start 到 end 之间切换为 light mode
  # 2: 只按照时间 start 到 end 之间切换为 light mode ,其余时间为 dark mode
  # false: 取消自动切换
  autoChangeMode: false
  # Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18
  start: # 8
  end: # 22
```

#### 滚动状态百分比

```yml
# show scroll percent in scroll-to-top button
rightside_scroll_percent: true
```

#### 按钮排序

```yml
# Don't modify the following settings unless you know how they work (非必要请不要修改 )
# Choose: readmode,translate,darkmode,hideAside,toc,chat,comment
# Don't repeat 不要重复
rightside_item_order:
  enable: false
  hide: # readmode,translate,darkmode,hideAside
  show: # toc,chat,comment
```

### 标签外挂(Tag Plugins)

**Tips:**

> 标签外挂是Hexo独有的功能，并不是标准的Markdown格式。<br>
> 以下的写法，只适用于Butterfly主题，用在其它主题上不会有效果，甚至可能会报错。使用前请留意

> 标签外挂虽然能为主题带来一些额外的功能和UI方面的强化，但是，标签外挂也有明显的限制，使用时请留意。

#### Note (Bootstrap Callout)

{% tabs Note %}

<!-- tab 通用设置 -->

```yml
note:
  # Note tag style values:
  #  - simple    bs-callout old alert style. Default.
  #  - modern    bs-callout new (v2-v3) alert style.
  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.
  #  - disabled  disable all CSS styles import of note tag.
  style: simple
  icons: false
  border_radius: 3
  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).
  # Offset also applied to label tag variables. This option can work with disabled note tag.
  light_bg_offset: 0
```

`icons`和`light_bg_offset`只对用法一生效

Note标签有两种用法

<!-- endtab -->

<!-- tab 用法1 -->

```markdown
{% note [class] [no-icon] [style] %}
Any content (support inline tags too.io).
{% endnote %}
---
- class
【可选】标识，不同的标识有不同的配色
（ default / primary / success / info / warning / danger ）
- no-icon
【可选】不显示 icon
- style
【可选】可以覆盖配置中的 style
（simple/modern/flat/disabled）
```

<!-- endtab -->

<!-- tab 用法2(自定义icon) -->

<!-- endtab -->

{% endtabs %}

#### Gallery相册图库

#### Gallery相册

#### tag-hide

#### mermaid

#### Tabs

```markdown
{% tabs Unique name, [index] %}
<!-- tab [Tab caption] [@icon] -->
Any content (support inline tags too).
<!-- endtab -->
{% endtabs %}

Unique name   : Unique name of tabs block tag without comma.
                Will be used in #id's as prefix for each tab with their index numbers.
                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.
                Only for current url of post/page must be unique!
[index]       : Index number of active tab.
                If not specified, first tab (1) will be selected.
                If index is -1, no tab will be selected. It's will be something like spoiler.
                Optional parameter.
[Tab caption] : Caption of current tab.
                If not caption specified, unique name with tab index suffix will be used as caption of tab.
                If not caption specified, but specified icon, caption will empty.
                Optional parameter.
[@icon]       : FontAwesome icon name (full-name, look like 'fas fa-font')
                Can be specified with or without space; e.g. 'Tab caption @icon' similar to 'Tab caption@icon'.
                Optional parameter.
```

#### Button

#### inlineImg

#### label

#### timeline

#### flink

#### abcjs 乐谱



